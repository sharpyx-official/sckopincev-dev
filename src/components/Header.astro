---
import { t } from 'i18next'
import { Icon } from 'astro-icon'
import HeaderLink from './HeaderLink.astro'
---

<script>
  // Script for toggling menu on mobile devices
  
  const menuButton = document.getElementById('ic_menu')
  const mobileMenu = document.getElementById('mobileMenu')

  menuButton?.addEventListener('click', () => {
    console.log('click')
    mobileMenu?.classList.toggle('hidden')
  })
  console.log(menuButton)
</script>

<header class="w-full flex justify-between items-center">
  <h2 class="font-bold font-header text-lg hover:text-cyan-600">
    {t('header.title')}
  </h2>
  <nav class="pl-8
    hidden
    md:flex
    md:flex-1
    md:gap-4
    font-body
  ">
    <HeaderLink href="/">{t('header.about')}</HeaderLink>
    <HeaderLink href="/techstack">{t('header.techstack')}</HeaderLink>
    <HeaderLink href="/blog">{t('header.blog')}</HeaderLink>
  </nav>
  <nav 
    id="mobileMenu"
    class="pl-8
    hidden
    absolute
    left-0
    top-16
    bg-stone-100
    w-full
    h-full
    flex
    flex-col
    gap-8
    py-6
    px-4
    z-50
    transition
        md:hidden
        font-body
    "
  >
    <HeaderLink href="/">{t('header.about')}</HeaderLink>
    <HeaderLink href="/techstack">{t('header.techstack')}</HeaderLink>
    <HeaderLink href="/blog">{t('header.blog')}</HeaderLink>
  </nav>
  <HeaderLink
    href="https://github.com/sharpyx-official"
    target="_blank"
    animated={false}
    class={`hidden md:flex items-center gap-2`}
  >
    <Icon name="mdi:github" class="w-7" />
    <span class="h-min font-body">GitHub</span>
  </HeaderLink>
  <Icon id="ic_menu" name="mdi:menu" class="md:hidden w-7 cursor-pointer" />
</header>
